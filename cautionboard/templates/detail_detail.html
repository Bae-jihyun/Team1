{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfectrip</title>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
    integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous" />

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    header {
      border-bottom: 2px solid #e6e6e6;
      left: 0;
      top: 0;
      width: 100%;
      /*height: 15%;*/
      height: 12.5%;
      background-color: white;
      z-index: 4;
    }

    nav {
      padding-top: 30px;
      padding-left: 40px;
    }

    .wrapper {
      display: flex;
      min-height: 100vh;
      flex-direction: column;
      height: 100%;
    }

    #main {
      display: flex;
      /* flex: 1; */
      height: 70%;
    }

    footer {
      height: 15%;
      background: black;
      color: #fff;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .footer_atag {
      color: white;
    }

    #left {
      flex: 30%;
      border-right: 2px solid #e6e6e6;
      text-align: left;
      overflow: auto;
    }

    .context:hover {
      background: #b8b7b7;
      cursor: pointer;
      color: white;
      box-shadow: 1px 1px 10px rgb(95, 95, 95);
    }

    .context:hover .p2 {
      color: white;
    }

    #right {
      flex: 70%;
      display: flex;
      flex-direction: column;
      height: 100%;
      overflow: auto;
    }

    .p1 {
      margin-bottom: 0;
    }

    .p2 {
      color: #a4a4a4;
    }

    a {
      text-decoration: none;
      color: black;
    }

    .comment-not-here {
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      margin-top: 50px;
      margin-bottom: 50px;
    }

    .context {
      padding-top: 10px;
      padding-left: 40px;
      padding-right: 40px;
      padding-bottom: 5px;
    }

    .text {
      padding: 10px;
      background-color: #f2f3f4;
    }

    .write-wrap {
      width: 95%;
      border: 2px solid #e6e6e6;
      border-radius: 20px;
      margin: 10px auto;
      background-color: #f7f7f7;
    }

    .input-wrap {
      text-align: center;
    }

    .submit-wrap {
      margin-top: 10px;
      margin-bottom: 10px;
      text-align: center;
    }

    .input-wrap input {
      font-size: 1.1rem;
      margin-top: 10px;
      width: 90%;
      border: none;
      height: 25px;
      border-bottom: 2px solid #e6e6e6;
      background: inherit;
    }

    .input-wrap input:focus {
      outline: none;
    }

    .input-wrap textarea {
      font-size: 1.1rem;
      width: 90%;
      height: 100px;
      border: none;
      border-bottom: 2px solid #e6e6e6;
      background: inherit;
    }

    .input-wrap textarea:focus {
      outline: none;
    }

    .travel-wrap {
      width: 90%;
      display: flex;
      margin: 0 auto;
    }

    #pet-wrap {
      border-bottom: 2px solid #e6e6e6;
      padding-bottom: 20px;
    }

    .btn-triptype,
    .btn-havepet {
      opacity: 0;
    }

    .travel-btn-wrap {
      margin-bottom: 10px;
      margin-right: 10px;
      height: 15%;
    }

    label {
      padding: 10px 10px;
      border-radius: 10px;
      background-color: #d4caf0;
    }

    input[type="radio"]:checked+label {
      background: #8465da;
      color: white;
      font-weight: bold;
    }

    input[type="radio"]:hover+label {
      background-color: #8465da;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }

    input[type="submit"] {
      border-radius: 10px;
      padding: 10px 20px;
      background-color: rgb(209, 209, 209);
      border-width: 0px;
    }

    input[type="submit"]:hover {
      cursor: pointer;
      box-shadow: 3px 3px 0px 0px rgb(95, 95, 95);
      background-color: #b9b6b6;
      color: white;
      font-weight: bold;
    }

    hr {
      margin: 0px;
    }

    #setting {
      display: flex;
      margin-left: 17px;
      margin-bottom: 7px;
    }

    .content {
      /**/
      background-color: white;
    }

    #yes {
      border: 1px solid #f87556;
      color: black;
      background-color: #f87556;
      border-radius: 5px;
      margin-right: 5px;
      cursor: pointer;
    }

    #yes:hover {
      border: 1px solid #f44336;
      background-color: #f44336;
      color: white;
      border-radius: 5px;
    }

    #no {
      border: 1px solid #8fcce2;
      color: black;
      background-color: #8fcce2;
      border-radius: 5px;
      margin-right: 5px;
      cursor: pointer;
    }

    #no:hover {
      border: 1px solid #008cba;
      background-color: #008cba;
      color: white;
      border-radius: 5px;
    }

    #no:hover {
      border: 1px solid #008cba;
      background-color: #008cba;
      color: white;
      border-radius: 5px;
    }

    #type {
      display: flex;
      margin-left: 10px;
    }

    .border {
      margin: 0 5px 0 5px;
      padding: 0 5px 0 5px;
      border-radius: 9;
      border-color: #008cba;
      color: #FF1493;
      border: 1px solid #a4a4a4;
      border-radius: 11px;

    }

    #like,
    #hate {
      display: flex;
      padding-right: 10px;
    }
  </style>
</head>

<body>
  <div class="wrapper">
    <header>
      <nav>
        <a href="{%url 'home'%}">
          <img src="{% static 'images/logo.png' %}" width="200px" />
        </a>
      </nav>
    </header>

    <div id="main">
      <div id="left">
        {% for list in trip_list %}
        <a href="{%url 'detail_detail' list.0%}">
          <div class="context">
            <p class="p1" style="font-size: 25px">
              <strong>{{list.0}}</strong>
            </p>
            <p class="p2">{{list.1}}</p>
          </div>
        </a>
        {% endfor %}
      </div>

      <div id="right">
        <div class="text">
          {%if text%}
          <p style="font-size: 20px; margin-left: 7px">
            <strong>{{text.place}}</strong>
          </p>
          <p style="font-size: 15px; margin-left: 7px">
            {{text.placeInformation}}
          </p>
          {%else%}
          <p>등록되어 있지 않은 장소입니다.</p>
          {%endif%}
        </div>

        <script>
          function count(type, num) {
            // 결과를 표시할 element
            var resultElement = document.getElementById(type + num);

            // 현재 화면에 표시된 값
            var number = resultElement.innerText;
            number = parseInt(number) + 1;
            // 결과 출력
            resultElement.innerText = number;
          }
        </script>

        <div class="content">
          {%if text%}
          {%if comment_list%}
          {%for content in comment_list%}
          <p style="padding-left: 7px; margin: 10px">
            <i class="fas fa-user-circle fa-lg"></i>
            <strong>{{content.author}}</strong> &nbsp;
            <span style="color: gray; font-size: 14px">{{content.pub_date}}</span>
          </p>
          <p style="padding-left: 7px; margin: 10px">{{content.caution}}</p>
          <div id="setting">
            <div id="like">
              <a href="{%url 'yesUp' text.place content.id%}">
                <input type="button" id="yes" onclick='count("yes","{{ forloop.counter }}")' value="좋아요" />
              </a>

              <div id="yes{{forloop.counter}}" name="yes">
                {{content.yes}}
              </div>
            </div>

            <div id="hate">
              <a href="{%url 'noUp' text.place content.id%}">
                <input type="button" id="no" onclick='count("no","{{ forloop.counter }}")' value="싫어요" />
              </a>

              <div id="no{{ forloop.counter }}" name="no">
                {{content.no}}
              </div>

              <div id="type">
                <span class="border"><strong>{{pet}}</strong></span>
                <span class="border"><strong>{{tripType}}</strong></span>
              </div>
            </div>
          </div>

          <hr />
          {% endfor %}
          {%else%}
          <div class="comment-not-here">
            <img src="{%static 'images/caution.png'%}" width="25%">
            <p>아직 이 장소에 대한 주의사항이 없습니다!</p>
          </div>
          {%endif%}
          {%endif%}
        </div>

        <div class="write">
          {%if text%}
          <form action="{%url 'addcaution' text.place%}" method="POST">
            {% csrf_token %}
            <div class="write-wrap">
              <div class="input-wrap">
                <input type="text" name="author" placeholder="이름을 입력하세요" />
              </div>
              <div class="input-wrap">
                <textarea name="caution" placeholder="주의사항을 입력하세요"></textarea>
              </div>
              <div class="input-wrap">
                <div class="travel-wrap">
                  <div class="travel-btn-wrap">
                    <input type="radio" name="trip-type" class="btn-triptype" id="id1" value="alone" /><label
                      for="id1"># 혼자여행</label>
                  </div>
                  <div class="travel-btn-wrap">
                    <input type="radio" name="trip-type" class="btn-triptype" id="id2" value="friend" /><label
                      for="id2"># 우정여행</label>
                  </div>
                  <div class="travel-btn-wrap">
                    <input type="radio" name="trip-type" class="btn-triptype" id="id3" value="family" /><label
                      for="id3"># 가족여행</label>
                  </div>
                  <div class="travel-btn-wrap">
                    <input type="radio" name="trip-type" class="btn-triptype" id="id4" value="couple" /><label
                      for="id4"># 커플여행</label>
                  </div>
                  <div class="travel-btn-wrap">
                    <input type="radio" name="trip-type" class="btn-triptype" id="id5" value="group" /><label
                      for="id5"># 단체여행</label>
                  </div>
                </div>
              </div>

              <div class="input-wrap">
                <div class="travel-wrap" id="pet-wrap">
                  <div class="travel-btn-wrap">
                    <input type="radio" name="have-pet" class="btn-havepet" id="pet1" value="yes" /><label for="pet1">#
                      애완견있음</label>
                  </div>
                  <div class="travel-btn-wrap">
                    <input type="radio" name="have-pet" class="btn-havepet" id="pet2" value="no" /><label for="pet2">#
                      애완견없음</label>
                  </div>
                </div>
              </div>
              <div class="submit-wrap">
                <input type="submit" value="등록" />
              </div>
            </div>
          </form>
          {%endif%}
        </div>
      </div>
    </div>

    <footer>
      <div><a class="footer_atag" href="#">맨위로 올라가기 |</a></div>
      &nbsp;&nbsp;
      <div>likelion develop team : 선수연, 박주희, 조상현, 배지현</div>
    </footer>
  </div>
</body>

</html>